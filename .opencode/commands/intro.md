---
description: 智能项目分析助手。深度分析当前目录结构、识别项目类型和用途，自动专业的 README.md 介绍文档，如果文档已经存在，就做补充更新。
agent: build
---

分析项目结构，理解其类型和核心价值，生成专业的 README.md，如果文档已经存在，就做补充更新。

## 第一步：扫描项目结构

使用 `Glob` 扫描项目文件和目录：
- 根目录文件（配置、文档、入口文件）
- 子目录结构
- 关键文件（package.json, *.md, *.py, *.js 等）

## 第二步：识别项目类型

根据文件特征判断类型：

**技术代码项目**：
- package.json, go.mod, Cargo.toml, pyproject.toml 等 → 编程语言 + 框架
- src/, lib/, app/ 等源代码目录
- 测试目录和 CI/CD 配置

**文档/知识库项目**：
- 大量 Markdown 文件
- 结构化分类目录（如 categories/, topics/）
- 示例文件和模板

**工具/配置集合**：
- 配置文件为主（.json, .yaml, .conf）
- 脚本文件（shell, python）
- 缺少传统应用入口

**模板/脚手架项目**：
- template/, boilerplate/ 目录
- 示例项目和初始化脚本
- 生成新项目的说明

**资源/素材集合**：
- 图片、音频、字体等素材文件
- 元数据文件描述资源
- 预览文件

**多用途混合项目**：
- 组合以上多种类型特征

## 第三步：分析项目核心

**读取关键文件**（根据类型选择）：
- 配置/元数据文件 → 了解项目基本信息
- 现有 README → 理解已有内容，避免重复
- 代表性文件 → 理解项目内容和价值
- 目录结构 → 理解组织方式

**分析维度**：
1. **这是什么** - 项目的核心身份和价值
2. **包含什么** - 主要内容、功能、资源
3. **为谁设计** - 目标用户群体
4. **如何使用** - 安装、配置、使用方式
5. **有何特色** - 独特优势或亮点

## 第四步：生成或更新 README

### 检测现有 README

**情况判断**：
- **README.md 不存在**：生成全新文档
- **README.md 已存在**：检查是否需要更新/补充

**增量更新逻辑**：

1. **读取现有 README** 内容
2. **对比分析**：
   - 现有目录结构 vs README 中记录的目录结构
   - 已记录的功能/模块 vs 实际存在的代码/文件
   - 缺失的新文件、新目录、新功能
3. **识别新增内容**：
   - 新添加的子目录
   - 新增加的功能模块
   - 新引入的配置文件
   - 更新的依赖或技术栈

### 更新策略

**智能合并原则**：
- 保留 README 中已有的项目描述、愿景、背景
- 补充新增加的功能、模块、文件说明
- 更新目录结构展示
- 完善使用方法和示例
- 更新版本信息或变更日志（如有）

**更新内容识别**：
- 新增的主要功能点 → 添加到功能列表
- 新增的 API/接口 → 添加到 API 文档部分
- 新增的依赖/配置 → 更新安装/配置说明
- 新增的子项目/模块 → 添加到项目结构
- 移除的内容 → 询问是否保留或删除

### 内容结构（灵活调整）

标准结构：

```markdown
# [项目名称]

> [一句话描述核心价值和定位]

## 简介

[项目背景、解决的问题、核心价值]

## 内容/功能/特性

[主要模块、功能列表、内容分类]

## 项目结构

```
[目录树]
```

## 使用方法

[安装、配置、使用步骤]

## 贡献指南

[如何参与、提交规范]

## 许可证

[许可证信息]
```

### 类型适配

根据项目类型调整重点：

**技术项目**：强调技术栈、安装运行、API/接口、开发指南
**文档项目**：强调内容分类、使用场景、示例展示、导航结构
**工具集合**：强调工具清单、配置说明、使用示例、组合使用
**模板项目**：强调模板结构、使用方法、自定义指南、示例项目
**资源集合**：强调资源清单、预览展示、使用许可、下载方式
**混合项目**：根据主要价值灵活组合以上要点

## 第五步：保存或更新文件

**目标文件**：`README.md`（或用户指定路径 $ARGUMENTS）

### 处理逻辑

1. **README.md 不存在**：
   - 直接生成并保存新文件

2. **README.md 已存在**：
   - 读取现有内容进行分析
   - 对比当前项目结构识别新增内容
   - 智能合并：保留原有内容 + 补充更新
   - 直接覆盖保存（已备份原文件）

### 更新流程

当检测到更新时：
1. 备份原 README.md 为 `README.old.md`（或带时间戳的备份）
2. 分析新增/变更的内容
3. 智能合并：保留原有核心价值描述，补充新功能/模块说明
4. 直接覆盖保存更新后的 README.md

## 质量标准

- 准确：信息与项目实际一致
- 完整：涵盖核心价值和关键信息
- 清晰：结构合理，易于理解
- 实用：包含用户需要的实际信息
- 灵活：根据项目类型调整内容重点

现在开始分析当前项目并生成 README.md。
